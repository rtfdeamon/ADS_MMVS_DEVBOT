# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

1. ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
2. ‚úÖ OAuth –¥–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `config.py`
3. ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ
4. ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
5. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd yandex_metrika_connector
source venv/bin/activate
python3 auto_test.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç URL –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```bash
cd yandex_metrika_connector
source venv/bin/activate
python3 oauth.py
```

–°–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä, –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –∏–∑ URL.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω:

```bash
export YANDEX_METRIKA_TOKEN='–≤–∞—à_—Ç–æ–∫–µ–Ω'
cd yandex_metrika_connector
source venv/bin/activate
python3 auto_test.py
```

## üîó URL –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é:

```
https://oauth.yandex.ru/authorize?response_type=code&client_id=87dd75faf38d40d6afb0a9a9e2a29706&redirect_uri=https%3A%2F%2Fmmvs.ru%2Fmetrika
```

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞:
```
https://mmvs.ru/metrika?code=XXXXX
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `code` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
yandex_metrika_connector/
‚îú‚îÄ‚îÄ config.py              # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (OAuth –¥–∞–Ω–Ω—ã–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
‚îú‚îÄ‚îÄ oauth.py               # ‚úÖ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ connector.py           # ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä
‚îú‚îÄ‚îÄ data_collector.py      # ‚úÖ –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ analyzer.py            # ‚úÖ –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ auto_test.py           # ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ quick_start.py         # ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ test_connector.py      # ‚úÖ –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ requirements.txt       # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md              # ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ START_HERE.md          # ‚úÖ –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞
2. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –°—á–µ—Ç—á–∏–∫–∏, —Ü–µ–ª–∏, —Ñ–∏–ª—å—Ç—Ä—ã
3. **–û—Ç—á–µ—Ç—ã** - –í–∏–∑–∏—Ç—ã, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –≥–µ–æ–≥—Ä–∞—Ñ–∏—è
4. **–ê–Ω–∞–ª–∏–∑** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
5. **–≠–∫—Å–ø–æ—Ä—Ç** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON –∏ Excel

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

- `data/yandex_metrika_data_*.json` - –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `data/yandex_metrika_report_*.xlsx` - –û—Ç—á–µ—Ç –≤ Excel
- `reports/metrika_analysis_*.json` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
- `reports/metrika_analysis_*.xlsx` - –û—Ç—á–µ—Ç –æ–± –∞–Ω–∞–ª–∏–∑–µ
- `tokens/access_token.json` - –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞

–î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```bash
cd yandex_metrika_connector && source venv/bin/activate && python3 auto_test.py
```

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

1. **–¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω** - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 oauth.py` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
3. **–ù–µ—Ç —Å—á–µ—Ç—á–∏–∫–æ–≤** - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –∞–∫–∫–∞—É–Ω—Ç–∞ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å—á–µ—Ç—á–∏–∫–∞–º
4. **–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞** - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ

## üìù –õ–æ–≥–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤:
- `logs/yandex_metrika_connector.log` - –§–∞–π–ª –ª–æ–≥–æ–≤
- –ö–æ–Ω—Å–æ–ª—å - –í—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

